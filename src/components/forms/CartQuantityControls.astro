---
export interface Props {
  productId: string;
  count: number;
}
const { productId, count } = Astro.props;
---
<div class="flex items-center gap-2 mt-3 sm:mt-0">
  <form method="POST" action="server/cart/update-qty-form">
    <input type="hidden" name="productId" value={productId} />
    <input type="hidden" name="count" value={count + 1} />
    <button type="submit" class="qty-plus cursor-pointer bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-lg">+</button>
  </form>
  <span class="text-lg" id={"count-" + productId}>{count}</span>
  <form method="POST" action="server/cart/update-qty-form">
    <input type="hidden" name="productId" value={productId} />
    <input type="hidden" name="count" value={count > 1 ? count - 1 : 1} />
    <button type="submit" class="qty-minus cursor-pointer bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-lg disabled:opacity-50" disabled={count <= 1}>-</button>
  </form>
</div>